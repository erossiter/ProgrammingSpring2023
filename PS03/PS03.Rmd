---
title: "Max Hammond, Problem Set 3"
date: "Due February 14, 2023"
output: pdf_document
urlcolor: blue
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Instructions

- Read all of these instructions closely.
- This problem set is due Tuesday, February 14, 2023 at 4pm.
- Submit files via Github:
  1. the .Rmd (R Markdown) file
  2. the knitted .pdf file
  3. anything else the particular problem set might require
- Use a copy of this file, perhaps with your name or initials appended to the file name, to write your answers to the questions. You'll see there is a designated space where your answers should begin.
- Knitting the .Rmd file to a .pdf file *as you work* will ensure your code runs without errors and is working how you expect.  Knit early and often.  You've already read the instruction that a knitted .pdf is required when you submit.
- Per the syllabus, I will not accept any late work.  Keep in mind the two lowest problem set scores are dropped.  Turn in what you have.
- Clarification on the expectations for problem set submissions (posted in Slack, copied here):
  - Always print the output of the code I'm requesting.
    - Ex: If I want you to create a vector x with elements 1 through 10, print x after creating it so I can see it worked.
  - Write any written answers in the space outside the code chunk, not inside with an R comment. 
    - R comments are great to clarify code, but not for answering the question.
  - Make sure any code or written content is not cut off in the pdf.
    - This really should only apply to code, because if you follow item 2 in this list, the pdf will compile your written answers nicely.


# Question 1--Loops and if/else (from Day03 inclass activity)

Write code to flip a coin ("H" and "T"), printing each flip to the console, until you get the same result three times in a row, at which point the coin flips should stop.  This code can be written in many different ways, but I expect you to at least use one of the kinds of loops and the if/else commands we talked about during Day03 class.

Hints: Use the `sample` function for each coin flip.

```{r}
tracker = ''
heads = 0
while (heads < 3) {
  flip <- sample(c("H", "T"), 1)
  if (flip == tracker) {
    heads <- heads + 1
  } else {
    tracker <- flip
    heads <- 1
  }
 print(flip)
}

```

ELR note: really nice solution! I was confused by the name `heads` at first, like... really confused! But I see how it works after thinking for a second :). A better name for that object might have been... `running_count` or something...


# Question 2--Functions

In the game show [Letâ€™s Make a Deal,](https://en.wikipedia.org/wiki/Let%27s_Make_a_Deal) participants choose one of three closed
doors and receive the prize behind the door they choose. Behind one door is a new car; behind the other two doors are goats.
After the participant selects one of the 3 doors, the host opens one of the other two doors, and reveals a goat.
Now, the participant has the option of either sticking with the door they originally selected, or switching to
the only other door that is still closed. What should the candidate do, and why? What are the probabilities
of winning the car if they stay versus if they switch? This question is known as the Monty Hall Problem.

For this question, you will not answer the Monty Hall Problem.  Instead, you'll code a slightly simplified version
of the Let's Make a Deal game.

## 2a

Create a function that does the following:

- takes one argument called `door` indicating the participant's chosen door (either 1, 2, or 3)
- checks to make sure the `door` value given is appropriate for the function
  - if not, returns a string from the function that tells the user what they did wrong
- draws a random number $[1,2,3]$ that presents the door behind which the car is hidden
- compares the user's guess with where the car is hidden
  - if the user is correct, returns a string with a message congratulating the user that they were correct
  - if the user is wrong, returns a strong saying they chose the wrong door

Also make sure to do the following to make sure your code is polished and readable:

- give the function an informative name
- give all objects created within the function informative names
- write succinct, informative comments in your code as needed to explain what is going on
- use best practices in styling the code as discussed in class so it is readable to someone else


```{r}
choice <- function(door){
  if (!(door %in% c(1,2,3))) {
    return("Invalid Choose between doors 1, 2, or 3.")
  }
  
 car_door <- sample(c(1,2,3), 1)
  if (door == car_door) {
    return(paste("True! The car was behind door", car_door,"!!!"))
  } else {
    return(paste("False! The car was behind door", car_door,"."))
  }
}

```

Elr note: nice!

## 2b

Demonstrate your function works as expected by passing it an integer value and showing the output in the console.  Also show your function works as expected by displaying your custom error message when the user supplies an unexpected input, such as the string `"Door 1"`.

```{r}
participant_chooses <- 1
cat(choice(participant_chooses), "\n")

participant_chooses <- "Door 1"
cat(choice(participant_chooses), "\n")
```


## 2c

Write a for loop that calls your simplified Monty Hall Problem function 1000 times with a guess of door 1 each time and stores the function output.  Then, use the `table` function on the 1000 stored outputs to display how many times the user got the message that they won vs. lost.  This simple simulation will help you know your function worked as expected, because the user should win approximately 1/3 of the time and lose approximately 2/3 of the time.

```{r}

monty_hall <- rep(NA, 1000)

for (i in 1:1000) {
  participant_chooses <- "Door 1"
  monty_hall[i] <- choice(as.numeric(gsub("Door ", "", participant_chooses)))
}

table(monty_hall)

```




# Question 3--Final Project

I've made this problem set a bit shorter so you can spend some time exploring final project topics.  This question asks you to not only have an idea, but start the process of flushing out the steps needed to execute the idea.  What this looks like depends on the project.  For example, if you want to do a data collection project, you'll have to starting looking around to see if anyone else has already done it.  Or, if you're working with me on one of my projects, we'll have to have a meeting.  The more effort you put in to this question to be as thorough as you can at this stage, the more I can understand and help!

You might ask -- how long should my answers be?  That is totally up to you.  I strongly believe flushing out your ideas thoroughly in writing is never a waste of time.


## 3a

What is the project idea?

Answer: At the moment I am looking to develop my scrapping skill set in order to make datasets from PDFs and websites. I have an internship that might be open to me doing this with some of their material in order to create a database that they can use to make reports.

## 3b

How would this project develop your skills as a programmer?
 

Answer:Scrapping would naturally be a wonderful skill set to be able to master in the long run of course, I am no where near that capability right now. But to start to familiarize myself with the necessary tools to scrape websites or reports would be pretty fantastic and would certainly develop my skills as a programmer in the following areas:
1) It would allow me to practice the material we have learned in class particularly with loops 
2) It would be practical and something I could create on my own
3) It would be reproducable meaning that I have the ability to possibly create code from scratch that I could use on any PDF or other type of document
4) It would force me to research other projects that already scrape 

## 3c

What is the broader motivation behind this project?  I am only interested in the programming element when it comes to fulfilling the course objectives, but I am still interested in your broader research!  Also, this will provide important context for me to understand how to help.

Answer: The main motivation would be to reduce my time when reading through long PDFs and input the qualitative data in reports into a repository/database

## 3d

Is there any other necessary context you haven't mentioned in 3a, 3b, or 3c? For example: Would you like a certain job after graduating and these skills you hope to develop in this project are necessary for it?  Is this project necessary work for your dissertation?  Is this project going to be used for another course as well?  (If so, you should consider checking with the other professor to make sure that is okay.). Is this an ongoing project you've been working on for some time?  Is this work for another professor as an RA? Etc.

Answer: If I am able to demonstrate a deft ability to scrape websites or documents I have the possibility to being hired for a fulltime position and be promoted from intern to staff. 

## 3e

List the steps you imagine you'll need to take for this project from the most basic initial tasks to the end goal (that may or may not be reached in our one semester together).

The amount of effort a coding project might take is hard to predict.  Some steps might be much quicker than you imagined.  Perhaps someone else has already done the work for you!  Or, some might be much more difficult than you imagined where overcoming a single unexpected roadblock turns into the entire course project.  Try to set the unpredictability of your project aside for a moment, and do your best to list the steps you think you'll need to execute the project.

This is where you can start to flush out the idea and take some initial steps.  **This is the most important question of the problem set and where I want you to put in some effort this week beginning to explore how to execute your project.**  For example, for a scraping project, you should at least answer these questions: If there's a website you need to scrape, provide the link so I can look.  What pages on the website?  What parts of the pages are you most interested in?  Have you looked to make sure no one has done this yet? When you configure the data, what will each observation (i.e., row) be -- a country, a year, a person, a document? Etc.

(Sidenote: the asterisk and plus sign is one way to make a nice bulleted list in Rmarkdown.  You can also create sub-bullets, see resources [here](https://rmarkdown.rstudio.com/authoring_basics.html).)

Answer:

I have a set of agricultural project completion reports from the World Bank that I worked with previously. I had to manually read them and make a database... which I was paid to do but shouldn't have been if I can write code for it. I could start by scraping one of those PDFs as practice. I am sure someone has done this before. I just want to know how to do it myself and be able to write code for it later in the future where I can change the key words or phrases I want to look for. 

In my internship we have to figure out helpful ways to merge datasets and work from other departments (i.e. merging information from the natural resource management department with the conflict department) and then design projects that would take recommendations from both sectors into account.  

* Step 1: ....
  + Install packages necessary to scrape PDF (possibly tabulizer for tables)
  + Read the PDF into R
* Step 2:
  + Create key words or phrases that I am looking for in the documents
* Step 3:
  + Look for code online that involves scraping and see if I can adapt my own code to those programs.


## 3f

At this point, what steps of the project you think you can realistically accomplish for this class. (I will provide feedback on this too, and we will adjust expectations together as the semester continues.)

Answer: I think I can scrape a PDF for key words and am expecting to being to make use of the mutate function a lot to make new variables based on expressions that I want to look for in them pdfs. I don't forsee this to be all that complicated once I get the framework down.

My concern... will this be too simple for a final project for this class?
I have like 20 pdfs that I could use and go through and produce a database as a final deliverable. 

ELR Note: I'm not sure about the "too simple" question.  I need more info about the context. What do these pdf's look like?  Good quality or bad scans? Are there tables inside you want to extract, or is it all text? Do you already have them downloaded or are they online somewhere?

In reality, I'm guessing you wouldn't need to do something super systematic with only 20 pdf's -- just read them.  However, if you want to use this as the means to devleop these skills, I'm not against that.  It would just be a toy example, which is fine.  However, it would be more interesting to find a different information source that actually requires these skills to make the task manageable, you know?  But, if this is something that would impress your job, I'm all for supporting that.  These are the things I'd consider if I were you.  Keep me posted as needed.

I'll also note that it sounds like a "text extraction" project, not a "scraping" project per se.  I note this because it will help you google for tools and solutions.











